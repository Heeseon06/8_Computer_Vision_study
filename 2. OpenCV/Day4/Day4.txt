영상의 변환
- 영상을 구상하는 픽셀의 배치 구조를 변경함으로 전체 영상의 모양을 바꾸는 작업

이미지 이동(translate)
원래 있던 좌표에 이동시키려는 거리 만큼 연산(shift)

    변환행렬
        M = [ 1 0 a ]
            [ 0 1 b ]
        x 방향으로 a 만큼, y 방향으로 b 만큼 이동하는 행렬

cv2.warpaffine(영상, 2 * 3 변환행렬, 결과, 보간법 알고리즘)
* (0. 0)을 매개변수로 전달하면 입력 영상과 크기가 같은 행렬을 반환

* 보간법 일고리즘(interpolation)
cv2.INTER_LINEAR: 인접한 4개의 픽셀 값에 거리 가중치 사용(속도는 빠르지만 퀄리티가 떨어짐)
cv2.INTRE_NEAREST: 가장 가까운 픽셀 값 사용
cv2.INTER_AREA: 픽셀 영역 관계를 이용한 재샘플링(영역적인 정보를 추출해서 결과 영상을 세팅하기 떄문에, 다운 샘플링시 효과적)
cv2.INTER_CUBIC: 인접한 16개의 픽셀 값에 가중치를 사용(퀄리티는 가장 높지만 속도가 떨어짐)

크기 변환(resize)
영상의 크기를 원본 영상보다 크게 또는 작게 만드는 변환
cv2.resize(영상, 결과, x와 y방향 스케일 비율, 보간법)

회전(rotation)
영상을 특정 각도 만큼 회전시키는 변환(반시계 방향(기본값), 음수는 시계방향)
cv2.getRotationMatrix2D(중심좌표, 회전각도, 확대비율) -> affine 행렬
회전 각도
확대비율: 0~1 사이의 실수


투시 변환(perspective)
- 직사각형 형태의 영상을 임의의 임체감 있는 사각형 형태로 변환
- 원본 영상에 있는 직선은 결과 영상에서 그대로 유지 되지 않고 평행 관계가 깨질 수 있음
- 투시 변환은 보통 3*3 크기의 실수 행렬로 표현
cv2.getPerspectiveTransforms(영상, 4개의 결과 좌표점) -> 투시변환 행렬
cv2.wrapPerspective(영상, 투시변환행렬, 결과영상크기)


필터링
커널또는 필터(filter) 라고 하는 행렬을 정의하고 이미지 위에서 이동해가며 커널과 겹쳐진 이미지 영역과 연산을 한 후 그 결과값을 픽셀을 대신하여 새로운 이미지로 만드는 연산
cv.filter2D(영상, 이미지 깊이, 커널의 크기, 중심점 좌표, 추가될 값, 가장자리 화소 처리)
이미지깊이
-1: 입력과 동일한 크기의 영상
커널: 3*3, 5*5, ...
가장자리 회소 처리
    BORDER_CONSTANT: 000abcdef000
    BORDER_REPLICATE: aaaavcdeffff
    ...

블러링(Blurring)
초점이 맞지 않은긋 영상을 흐릿하게 하는 작업
- 평균 블러링: 가장 일반적인 블러링 방법. 균일한 값을 정규화 된 커널을 이용한 이미지 필터링 방법
    - 커널 영역 내에서 평균값으로 해당 픽셀을 대체함
    - 주변 픽셀들의 평균값을 적용하면 픽셀 간 차이가 적어져 선명도가 떨어지므로 전체적으로 흐려짐
    - 필터의 크기가 클수록 평균 블러링을 적용했을 때 선명도가 떨어짐
    - cv2.blur(영상, 커널)
- 가우시안 블로링: 가우시안 분포를 갖는 커널로 블러링 하는 것(정규 분포, 평균 근처에 몰려 있는 값들의 개수가 많고 평균에서 멀어질수록 그 개수가 적어지는 분포)
    - 대상 픽셀의 가까올수록 많은 영향을 주고, 멀어질수록 적은 영향을 주기 때문에 원래의 영상과 비슷하면서도 노이즈를 제거하는 효과가 있음
    - cv2.GaussianBlur(영상, 출력영상, 커널)
        - 출력영상: (0, 0)이면 입력 영상과 같은 크기의 영상 생성
        - 커널: 3 = 3 * 3
- 미디언 블러링: 커널의 픽셀 값 중 중앙값을 선택
    - 소금-후추 잡음을 제거하는 효과
    - cv2.medianBlur(영상, 커널)
- 바이레터럴 필터(Bilateral Filter): 기존 블러링의 문제점을 해경하기 위한 방법
    - 잡음을 제거하는 효과는 뛰어났지만, 해당 잡음의 경계도 흐릿하게 만드는 문제를 해결
    - 경계도 뚜렷하고 노이즈도 제거되는 효과는 있지만 속도가 느림
    - cv2.bilateralFilter(영상, 픽셀의 거리, 시그마 컬러, 시그마 스페이스 범위)
        - 픽셀의 거리(필터의 직경): -1을 입력하면 자동 결정됨
        - 시그마 컬러: 색공간의 시그마 값
        - 시그마 스페이스: 좌표 공간의 시그마 값(값이 클수록 떨어져 있음 픽셀들의 영향을 미침)

에지(edge) 검출
- 영상에서 화소의 밝기가 급격하게 변하는 부분
- 물체의 윤곽선(경계선)이 해당
- 에지를 검출할 수 있으면 물체의 윤곽선을 알 수 있음
- "캐니 에지 검출"은 상당한 수준으로 에지를 신뢰성 있게 검출하는 방법
cv2.Canny(영상, 최소임계값, 최대입계값, 커널)
최소임계값, 최대입계값: 두 개의 경계 값(Max, Min)을 지정해서 경계에 있는 영역 픽셀을 찾음

실습
웹캠 영상에서 필터링을 적용(스페이스바를 누를 때마다)하는 프로그램을 작성
- 일반영상 -> 가우시안 필터링 -> 케니 필터링 -> 일반영상

